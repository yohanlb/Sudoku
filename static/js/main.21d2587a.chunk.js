(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],{13:function(e,n,t){},14:function(e,n,t){},15:function(e,n,t){"use strict";t.r(n);var a=t(0),l=t.n(a),r=t(5),o=t.n(r),i=t(6),u=t(1);var c=function(e){var n=e.cell,t=e.handleClickOnCell,r=e.handleMouseOver,o=Object(a.useState)(!1),i=Object(u.a)(o,2),c=i[0],s=i[1],f=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t(e,n.key,a),s(!0)};return function(){if(n.isGiven){var e="cell-inner isGiven "+(n.highlighted?" highlighted":"");return l.a.createElement("div",{className:e,onMouseOver:function(){r(n.key)}},l.a.createElement("span",{className:"cell-number"},n.actualValue))}if(n.solvedValue>0){var t="cell-inner isSolved "+(n.highlighted?" highlighted":"");return l.a.createElement("div",{className:t,onMouseOver:function(){r(n.key)}},l.a.createElement("span",{className:"cell-number"},n.solvedValue))}if(n.actualValue>0){var a="cell-inner isActual "+(n.highlighted?" highlighted":"");return l.a.createElement("div",{className:a,onMouseOver:function(){r(n.key)}},l.a.createElement("span",{className:"cell-number"},n.actualValue))}var o="cell-inner notGiven "+(c?" clicked":"")+(n.highlighted?" highlighted":"");return l.a.createElement("div",{className:o,onMouseOver:function(){r(n.key)},onTransitionEnd:function(){s(!1)},onClick:function(e){f(e)},onContextMenu:function(e){f(e,!0)}},l.a.createElement("span",{className:"cell-number"},0===n.guessedValue?"":n.guessedValue))}()};function s(e){this.key=e,this.x=e%9,this.y=Math.floor(e/9),this.guessedValue=0,this.actualValue=0,this.solvedValue=0,this.isGiven=!1,this.highlighted=!1,this.possibleValues=[],this.printCellInfo=function(){console.table(this)},this.setPossibleValues=function(e){this.possibleValues=e},this.clearCell=function(){this.guessedValue=0,this.actualValue=0,this.solvedValue=0,this.isGiven=!1,this.highlighted=!1,this.possibleValues=[]},this.setGivenValue=function(e){this.actualValue=e,this.isGiven=!0},this.setGuessedValue=function(e){this.guessedValue=e},this.setSolvedValue=function(e){this.solvedValue=e},this.setHovered=function(e){this.highlighted=e},this.getCellInfo=function(){return{key:this.key,x:this.x,y:this.y,guessedValue:this.guessedValue,actualValue:this.actualValue,isGiven:this.isGiven,highlighted:this.highlighted,possibleValues:this.possibleValues}}}var f,h=t(7),v=function(e){return e.map((function(e){return Object(h.a)({},e)}))},d=function(e,n){for(var t=n.y,a=[],l=0;l<81;l++)Math.floor(l/9)===t&&a.push(e[l]);return a},g=function(e,n){for(var t=[],a=n.x,l=0;l<81;l++)l%9===a&&t.push(e[l]);return t},m=function(e){var n=Math.floor(e.x/3),t=Math.floor(e.y/3),a=[];return[[3*n+0,3*t+0],[3*n+1,3*t+0],[3*n+2,3*t+0],[3*n+0,3*t+1],[3*n+1,3*t+1],[3*n+2,3*t+1],[3*n+0,3*t+2],[3*n+1,3*t+2],[3*n+2,3*t+2]].forEach((function(e){var n;a.push((n=e[0],9*e[1]+n))})),a},E=function(e,n){return function(e,n){var t=[];return e.forEach((function(e){n.some((function(n){return n===e.key}))&&t.push(e)})),t}(e,m(n))},V=function(e){var n=[81];return e.forEach((function(e){n[e.key]=e.solvedValue})),console.log(n),n},b=[2,7,0,3,0,0,0,4,0,0,0,0,0,0,0,2,1,9,0,0,0,0,0,0,7,5,3,0,0,9,5,0,0,0,0,0,1,0,0,0,0,0,0,0,6,0,6,3,0,0,0,5,0,7,5,4,0,0,0,3,0,0,2,0,8,0,0,2,1,0,3,5,0,0,0,8,0,5,1,0,4],k=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=v(e),l=!1;y(e)||console.log("grid not valid");for(var r=0;!l&&r<50;)f=0,r++,a=v(e),l=p(a,0,n,[],t);console.log("loop count : ",f,"tentatives : ",r,"res : ",l),l||V(a);var o=l?"Success":"Error";return[a,o]},p=function e(n,t,a,l,r){if(++f>300)return!1;if(y(n)||console.log("grid not valid"),f>400)throw new Error("Error while generating the grid");if(t>=81)return!0;var o=n[t];if(o.solvedValue>0||o.actualValue>0||o.guessedValue>0)return e(n,t+1,a,l,r);for(var i=M(n,o),u=O([1,2,3,4,5,6,7,8,9]),c=function(c){if(i.some((function(e){return e===u[c-1]}))&&(G(o,u[c-1],r,l,a,t),e(n,t+1,a,l,r)))return{v:!0}},s=1;s<=9;s++){var h=c(s);if("object"===typeof h)return h.v}return G(o,0,r,l,a,t),!1},y=function(e){var n=!0;return e.forEach((function(t){var a=M(e,t,!0),l=0;t.actualValue>0?l=t.actualValue:t.solvedValue>0?l=t.solvedValue:t.guessedValue>0&&(l=t.guessedValue),l>0&&-1===a.indexOf(l)&&(console.log("Wrong grid values for cell : ",t.key),n=!1)})),n},O=function(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),a=[e[t],e[n]];e[n]=a[0],e[t]=a[1]}return e},C=function(e){if(e&&!(e>=80)){for(var n=[];n.length<e;){var t=Math.floor(80*Math.random());-1===n.indexOf(t)&&n.push(t)}return n}},G=function(e,n,t,a,l,r){-1!==a.indexOf(r)?e.actualValue=n:(e.setSolvedValue(n),t&&l({key:e.key,solvedValue:n}))},M=function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=new Array(9).fill(1),l=[];(l=(l=(l=(l=l.concat(E(e,n))).concat(d(e,n))).concat(g(e,n))).filter((function(e){return e.key!==n.key}))).forEach((function(e){e.actualValue>0?a[e.actualValue-1]=0:e.solvedValue>0?a[e.solvedValue-1]=0:t&&e.guessedValue>0&&(a[e.guessedValue-1]=0)}));var r=[];return a.forEach((function(e,n){e&&r.push(n+1)})),r};var N=function(e){var n=e.solverResult;return e.step,""!==n?l.a.createElement("p",null,l.a.createElement("b",null,"Solver result : "),n):null};t(13);var S=function(e){var n=e.handleClickOnSolve,t=e.handleClickOnGenerate,a=(e.handleClickOnLoadValues,e.handleClickOnClearAll),r=e.solverResult,o=e.cellInfo,i=e.displayMessage,u="";Object.keys(o).length>0&&(u=l.a.createElement("div",{className:"cell-info-inner"},l.a.createElement("h3",null,"Cell #",o.key," [",o.x,", ",o.y,"]"),l.a.createElement("p",null,"Possible values : ",o.possibleValues.join(", ")," ")));var c="";return""!==i&&(c=l.a.createElement("div",{className:"user-message"},l.a.createElement("p",null,l.a.createElement("b",null,i)))),l.a.createElement("div",{className:"side-panel"},l.a.createElement("div",{className:"side-panel-container"},l.a.createElement("div",{className:"button-container button-container-clear"},l.a.createElement("button",{onClick:a},"CLEAR ALL")),l.a.createElement("div",{className:"button-container button-container-generate"},l.a.createElement("h3",null,"Generator"),l.a.createElement("button",{onClick:function(){t(!0,20)}},"Generate grid Easy"),l.a.createElement("button",{onClick:function(){t(!0,30)}},"Generate grid Medium"),l.a.createElement("button",{onClick:function(){t(!0,40)}},"Generate grid Hard")),l.a.createElement("div",{className:"button-container button-container-solver"},l.a.createElement("h3",null,"Solver"),l.a.createElement("button",{onClick:function(){n(!1)}},"Solve"),l.a.createElement("button",{onClick:function(){n(!0)}},"Solve (step by step)"),l.a.createElement(N,{solverResult:r})),l.a.createElement("div",{className:"cell-info-container"},c,u),l.a.createElement("div",{className:"fixed-bottom-right"},l.a.createElement("a",{href:"https://github.com/yohanlb/Sudoku",target:"_blank",rel:"noopener noreferrer"},"See code"))))},j=(t(14),[]),w=!1;var x=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],o=Object(a.useState)(""),h=Object(u.a)(o,2),d=h[0],g=h[1],E=Object(a.useState)({}),V=Object(u.a)(E,2),O=V[0],G=V[1];!function(e,n){var t=Object(a.useRef)();Object(a.useEffect)((function(){t.current=e})),Object(a.useEffect)((function(){if(null!==n){var e=setInterval((function(){t.current()}),n);return function(){return clearInterval(e)}}}),[n])}((function(){N()}),10);var N=function(){if(w)r(I(t)),w=!1,console.log("clear");else if(j.length>0){var e=Object(i.a)(t);e[j[0].key].setSolvedValue(j[0].solvedValue),r(e),j.shift()}},x=function(e){j=-1===e?[]:j.concat(e)};Object(a.useEffect)((function(){for(var e=[],n=0;n<81;n++)e.push(new s(n));console.log(e),r(e)}),[]);var I=function(e){var n=v(e);return j=[],n.forEach((function(e){e.clearCell()})),n},A=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.preventDefault();var l=v(t),o=l[n];if(null!=o){var i=o.guessedValue+(a?-1:1);i<0&&(i=9),i>9&&(i=0),o.setGuessedValue(i),r(l)}},L=function(e){var n=v(t);n[e].setPossibleValues(M(n,n[e])),G(n[e].getCellInfo());var a=[];a=(a=(a=a.concat(m(n[e]))).concat(function(e,n){for(var t=[],a=e[n].x,l=0;l<81;l++)l%9===a&&t.push(l);return t}(n,e))).concat(function(e,n){for(var t=e[n].y,a=[],l=0;l<81;l++)Math.floor(l/9)===t&&a.push(l);return a}(n,e)),n.forEach((function(e){var n=-1!==a.indexOf(e.key);e.setHovered(n)})),r(n)};return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"grid-container"},l.a.createElement("div",{className:"grid",onMouseLeave:function(){G({});var e=v(t);e.forEach((function(e){e.setHovered(!1)})),r(e)}},t.map((function(e){return l.a.createElement(c,{key:e.key,cell:e,handleClickOnCell:A,handleMouseOver:L})})))),l.a.createElement(S,{cellInfo:O,handleClickOnSolve:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(y(t)){var n=k(v(t),x,e);e||r(n[0]),g(n[1])}else g("Grid is not valid, please check your values")},handleClickOnGenerate:function(e,n){if(y(t)){var a=v(t);(a=function(e,n,t){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,l=[],r=0;r<3;){r++,f=0,l=v(e);var o=C(a),i=p(l,0,n,o,t);if(console.log("loop count : ",f,"tentatives : ",r,o.length),!(f>300)&&i)return void console.log("loop count : ",f,"tentatives : ",r,"res : ",i);n(-1)}return l}(a,x,!0,n))&&!e&&r(a),g("Grid generated with success")}else g("Grid is not valid, please check your values")},handleClickOnClearAll:function(){r(I(t))},handleClickOnLoadValues:function(){r(function(e,n){var t=v(e);return j=[],(t=I(t)).forEach((function(e){0!==n[e.key]&&e.setGivenValue(n[e.key])})),t}(t,b))},displayMessage:d}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,n,t){e.exports=t(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.21d2587a.chunk.js.map