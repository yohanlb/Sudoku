(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],{13:function(e,n,t){},14:function(e,n,t){},15:function(e,n,t){"use strict";t.r(n);var a=t(0),l=t.n(a),r=t(5),i=t.n(r),o=t(6),u=t(1);var c=function(e){var n=e.cell,t=e.handleClickOnCell,r=e.handleMouseOver,i=Object(a.useState)(!1),o=Object(u.a)(i,2),c=o[0],s=o[1],h=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t(e,n.key,a),s(!0)};return function(){if(n.isGiven){var e="cell-inner isGiven "+(n.highlighted?" highlighted":"");return l.a.createElement("div",{className:e,onMouseOver:function(){r(n.key)}},l.a.createElement("span",{className:"cell-number"},n.actualValue))}if(n.solvedValue>0){var t="cell-inner isSolved "+(n.highlighted?" highlighted":"");return l.a.createElement("div",{className:t,onMouseOver:function(){r(n.key)}},l.a.createElement("span",{className:"cell-number"},n.solvedValue))}if(n.actualValue>0){var a="cell-inner isActual "+(n.highlighted?" highlighted":"");return l.a.createElement("div",{className:a,onMouseOver:function(){r(n.key)}},l.a.createElement("span",{className:"cell-number"},n.actualValue))}var i="cell-inner notGiven "+(c?" clicked":"")+(n.highlighted?" highlighted":"");return l.a.createElement("div",{className:i,onMouseOver:function(){r(n.key)},onTransitionEnd:function(){s(!1)},onClick:function(e){h(e)},onContextMenu:function(e){h(e,!0)}},l.a.createElement("span",{className:"cell-number"},0===n.guessedValue?"":n.guessedValue))}()};function s(e){this.key=e,this.x=e%9,this.y=Math.floor(e/9),this.guessedValue=0,this.actualValue=0,this.solvedValue=0,this.isGiven=!1,this.highlighted=!1,this.possibleValues=[],this.printCellInfo=function(){console.table(this)},this.setPossibleValues=function(e){this.possibleValues=e},this.clearCell=function(){this.guessedValue=0,this.actualValue=0,this.solvedValue=0,this.isGiven=!1,this.highlighted=!1,this.possibleValues=[]},this.setGivenValue=function(e){this.actualValue=e,this.isGiven=!0},this.setGuessedValue=function(e){this.guessedValue=e},this.setSolvedValue=function(e){this.solvedValue=e},this.setHovered=function(e){this.highlighted=e},this.getCellInfo=function(){return{key:this.key,x:this.x,y:this.y,guessedValue:this.guessedValue,actualValue:this.actualValue,isGiven:this.isGiven,highlighted:this.highlighted,possibleValues:this.possibleValues}}}var h,f=t(7),v=function(e){return e.map((function(e){return Object(f.a)({},e)}))},d=function(e,n){for(var t=n.y,a=[],l=0;l<81;l++)Math.floor(l/9)===t&&a.push(e[l]);return a},m=function(e,n){for(var t=[],a=n.x,l=0;l<81;l++)l%9===a&&t.push(e[l]);return t},g=function(e){var n=Math.floor(e.x/3),t=Math.floor(e.y/3),a=[];return[[3*n+0,3*t+0],[3*n+1,3*t+0],[3*n+2,3*t+0],[3*n+0,3*t+1],[3*n+1,3*t+1],[3*n+2,3*t+1],[3*n+0,3*t+2],[3*n+1,3*t+2],[3*n+2,3*t+2]].forEach((function(e){var n;a.push((n=e[0],9*e[1]+n))})),a},E=function(e,n){return function(e,n){var t=[];return e.forEach((function(e){n.some((function(n){return n===e.key}))&&t.push(e)})),t}(e,g(n))},V=[1,0,6,0,0,2,3,0,0,0,5,0,0,0,6,0,9,1,0,0,9,5,0,1,4,6,2,0,3,7,9,0,5,0,0,0,5,8,1,0,2,7,9,0,0,0,0,0,4,0,8,1,5,7,0,0,0,2,6,0,5,4,0,0,0,4,1,5,0,6,0,9,9,0,0,8,7,4,2,1,0],b=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=v(e),l=k(a,0,n,[],t),r=l?"Success":"Error";return[a,r]},k=function e(n,t,a,l,r){if(++h>500)return!1;if(h>600)throw new Error("Error while generating the grid");if(t>=81)return!0;var i=n[t];if(i.solvedValue>0||i.actualValue>0||i.guessedValue>0)return e(n,t+1,a,l,r);for(var o=C(n,i),u=p([1,2,3,4,5,6,7,8,9]),c=function(c){if(o.some((function(e){return e===u[c-1]}))&&(O(i,u[c-1],r,l,a,t),e(n,t+1,a,l,r)))return{v:!0}},s=1;s<=9;s++){var f=c(s);if("object"===typeof f)return f.v}return O(i,0,r,l,a,t),!1},p=function(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),a=[e[t],e[n]];e[n]=a[0],e[t]=a[1]}return e},y=function(e){if(e&&!(e>=80)){for(var n=[];n.length<e;){var t=Math.floor(80*Math.random());-1===n.indexOf(t)&&n.push(t)}return n}},O=function(e,n,t,a,l,r){-1!==a.indexOf(r)?e.actualValue=n:(e.setSolvedValue(n),t&&l({key:e.key,solvedValue:n}))},C=function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=new Array(9).fill(1),l=[];(l=(l=(l=(l=l.concat(E(e,n))).concat(d(e,n))).concat(m(e,n))).filter((function(e){return e.key!==n.key}))).forEach((function(e){e.actualValue>0?a[e.actualValue-1]=0:e.solvedValue>0?a[e.solvedValue-1]=0:t&&e.guessedValue>0&&(a[e.guessedValue-1]=0)}));var r=[];return a.forEach((function(e,n){e&&r.push(n+1)})),r};var M=function(e){var n=e.solverResult;return e.step,""!==n?l.a.createElement("p",null,l.a.createElement("b",null,"Solver result : "),n):null};t(13);var G=function(e){var n=e.handleClickOnSolve,t=e.handleClickOnGenerate,a=(e.handleClickOnLoadValues,e.handleClickOnClearAll),r=e.solverResult,i=e.cellInfo,o="";return Object.keys(i).length>0&&(o=l.a.createElement("div",{className:"cell-info-inner"},l.a.createElement("h3",null,"Cell #",i.key," [",i.x,", ",i.y,"]"),l.a.createElement("p",null,"Possible values : ",i.possibleValues.join(", ")," "))),l.a.createElement("div",{className:"side-panel"},l.a.createElement("div",{className:"side-panel-container"},l.a.createElement("div",{className:"button-container button-container-clear"},l.a.createElement("button",{onClick:a},"CLEAR ALL")),l.a.createElement("div",{className:"button-container button-container-generate"},l.a.createElement("h3",null,"Generator"),l.a.createElement("button",{onClick:function(){t(!0,20)}},"Generate grid Easy"),l.a.createElement("button",{onClick:function(){t(!0,35)}},"Generate grid Medium"),l.a.createElement("button",{onClick:function(){t(!0,50)}},"Generate grid Hard")),l.a.createElement("div",{className:"button-container button-container-solver"},l.a.createElement("h3",null,"Solver"),l.a.createElement("button",{onClick:function(){n(!1)}},"Solve"),l.a.createElement("button",{onClick:function(){n(!0)}},"Solve (step by step)"),l.a.createElement(M,{solverResult:r})),l.a.createElement("div",{className:"cell-info-container"},o)))},N=(t(14),[]),j=!1;var S=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],i=Object(a.useState)(""),f=Object(u.a)(i,2),d=f[0],m=f[1],E=Object(a.useState)({}),p=Object(u.a)(E,2),O=p[0],M=p[1];!function(e,n){var t=Object(a.useRef)();Object(a.useEffect)((function(){t.current=e})),Object(a.useEffect)((function(){if(null!==n){var e=setInterval((function(){t.current()}),n);return function(){return clearInterval(e)}}}),[n])}((function(){S()}),10);var S=function(){if(j)r(x(t)),j=!1,console.log("clear");else if(N.length>0){var e=Object(o.a)(t);e[N[0].key].setSolvedValue(N[0].solvedValue),r(e),N.shift()}},w=function(e){N=-1===e?[]:N.concat(e)};Object(a.useEffect)((function(){for(var e=[],n=0;n<81;n++)e.push(new s(n));console.log(e),r(e)}),[]);var x=function(e){var n=v(e);return N=[],n.forEach((function(e){e.clearCell()})),n},I=function(e){var n=v(t);n[e].setPossibleValues(C(n,n[e])),M(n[e].getCellInfo());var a=[];a=(a=(a=a.concat(g(n[e]))).concat(function(e,n){for(var t=[],a=e[n].x,l=0;l<81;l++)l%9===a&&t.push(l);return t}(n,e))).concat(function(e,n){for(var t=e[n].y,a=[],l=0;l<81;l++)Math.floor(l/9)===t&&a.push(l);return a}(n,e)),n.forEach((function(e){var n=-1!==a.indexOf(e.key);e.setHovered(n)})),r(n)},A=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.preventDefault();var l=v(t),i=l[n];if(null!=i){var o=i.guessedValue+(a?-1:1);o<0&&(o=9),o>9&&(o=0),i.setGuessedValue(o),r(l)}};return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"grid-container"},l.a.createElement("div",{className:"grid",onMouseLeave:function(){M({});var e=v(t);e.forEach((function(e){e.setHovered(!1)})),r(e)}},t.map((function(e){return l.a.createElement(c,{key:e.key,cell:e,handleClickOnCell:A,handleMouseOver:I})})))),l.a.createElement(G,{cellInfo:O,handleClickOnSolve:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=b(v(t),w,e);e||r(n[0]),m(n[1])},handleClickOnGenerate:function(e,n){var a=v(t);(a=function(e,n,t){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,l=[],r=0;r<300;){r++,h=0,l=v(e);var i=y(a),o=k(l,0,n,i,t);if(console.log("loop count : ",h,"tentatives : ",r,i.length),!(h>500)&&o)return void console.log("loop count : ",h,"tentatives : ",r,o);n(-1)}return l}(a,w,!0,n))&&!e&&r(a)},handleClickOnClearAll:function(){r(x(t))},handleClickOnLoadValues:function(){r(function(e,n){var t=v(e);return N=[],(t=x(t)).forEach((function(e){0!==n[e.key]&&e.setGivenValue(n[e.key])})),t}(t,V))},solverResult:d}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,n,t){e.exports=t(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.9fd35d25.chunk.js.map